<h1>Edit "<%= @form.name %>"</h1>
<%= bootstrap_form_for @form do |f| %>
    <%= f.text_field :name %>
    <%= f.text_field :website, label: "Website/Property" %>
    <%= f.collection_check_boxes :outputs, @available_outputs, :id, :name%>
    <%= f.hidden_field :input_fields %>
    <div id='editor_holder'></div>
    <%= f.submit "Save" %>
<% end %>

<script>
  // Initialize the editor with a JSON schema
  var $output = document.getElementById('input_fields');
  var editor = new JSONEditor(document.getElementById('editor_holder'),{
    // Enable fetching schemas via ajax
    ajax: true,

    // The schema for the editor
    schema: {
      $ref: "<%= asset_path('inputfields.json') %>",
      format: "grid"
    },
    theme: 'bootstrap3',
    // Seed the form with a starting value
    //startval: starting_value
  });
  editor.on('change',function() {
    var json = editor.getValue();

    $output.value = JSON.stringify(json, null, 2);
  });
</script>